## React
create-react-app 脚手架

## Express
1. 聊天室： Express + socket.io
2. 爬虫：Cheerio + Request
3. 博客：Hexo
4. 论坛：Node Club
5. 控制台工具：tty.js
6. 在线游戏：Pomelo

```shell
# 安装 Express 最新5.x
npm install express --save

# express-generator 快速生成应用
# npx express-generator
npm install -g express-generator
# -h 查看参数帮助
express 
```
[express examples](https://github.com/expressjs/express/tree/master/examples)

```shell
# 模板引擎
vuexpress # 服务端渲染引擎
express-vue
React
```

项目：个人博客

1. npx express-generator
2. npm install express-react-views react react-dom

#### Middleware 中间件
5.x 版本
```js
// 基于 body-parser 中间件
express.json()
// 基于 serve-static 中间件
express.static()
// 创建路由
express.Router()
// 解析
express.urlencoded()
```

1. body-parser

2. compression

3. connect-rid

4. cookie-parser

5. cookie-session

6. cors

7. csurf

8. errorhandler

9. method-override

10. morgan
记录日志
```js
morgan(format, options)
// 使用预定义的格式字符串
morgan('tiny')
// 使用预定义tokens的格式字符串，可以预定义
morgan(':method :url :status :res[content-length] - :response-time ms')
// 定义域格式函数
morgan(function (tokens, req, res) {
  return [
    tokens.method(req, res),
    tokens.url(req, res),
    tokens.status(req, res),
    tokens.res(req, res, 'content-length'), '-',
    tokens['response-time'](req, res), 'ms'
  ].join(' ')
})

// options 参数
// only log error responses
morgan('combined', {
    // 记录来自请求的log，而不是响应的, 默认是响应的 false
    immediate: false,
    // 跳过输出log
    skip: function (req, res) { return res.statusCode < 400 },
    // 输出流
    stream: fs.createWriteStream(path.join(__dirname, 'dev.log'), { flags: 'a' })
})

// 预定义Formats 
// :remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length] ":referrer" ":user-agent"
morgan('combined') // Apache combined log 输出
// :remote-addr - :remote-user [:date[clf]] ":method :url HTTP/:http-version" :status :res[content-length]
morgan('common') // Apache common log 输出
// :method :url :status :response-time ms - :res[content-length]
morgan('dev')
// :remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms
morgan('short')
// :method :url :status :res[content-length] - :response-time ms
morgan('tiny')

// 预定义tokens(输出log的内容)
// 返回的值将以':type'形式提供
morgan.token('type', function (req, res) { return req.headers['content-type'] })
:date[format] clf/ios/web 默认 Tue, 10 Oct 2000 13:55:36 GMT
:http-version 
:method
:referrer The Referrer header of the request
:remote-addr
:remote-user
:req[header] The given header of the request
:res[header]
:response-time[digits] digits 默认 3
:status
:total-time[digits]
:url
:user-agent
```
日志文件[rotating-file-stream](https://github.com/iccicci/rotating-file-stream)
支持gzip压缩，linux logroate机制
*linux logroate机制*: 磁盘空间有限，只能记录一段时间，为节省空间和整理方便，日志文件需要按时间或者大小等维度分成多份，删除时间久远的的日志文件。
工作机制：/etc/cron.daily/logrotate 每日执行一次，除非移动到/etc/cron.hourly 每小时

配置文件写在/etc/logrotate.conf 



11. multer

12. response-time

13. serve-favicon

14. serve-index

15. serve-static

16. session

17. timeout

18. vhost


## Koa

## Mocha
单元测试框架

