let ips = [
    '206.76.161.30~255.0.0.0',
    '159.70.213.68~255.0.0.0',
    '181.131.118.0~255.255.255.0',
    '80.164.71.44~255.255.255.255',
    '12.208.232.42~255.255.0.0',
    '150.24.121.174~255.0.102.0',
    '131.221.165.68~255.0.0.0',
    '160.126.59.101~255.0.75.0',
    '236.239.205.137~255.255.0.0',
    '89.124.33.74~255.0.0.159',
    '233.174.151.221~255.255.0.0',
    '218.140.130.246~255.255.255.255',
    '13.13.219.143~255.0.0.0',
    '232.95.224.67~255.255.255.255',
    '2.108.39.131~255.0.0.0',
    '161.217.200.192~255.0.0.0',
    '123.170.177.162~255.0.0.0',
    '239.64.91.24~255.0.0.0',
    '241.199.108.210~255.255.255.0',
    '117.0.169.232~255.255.255.255',
    '122.49.165.60~255.255.242.255',
    '71.148.13.251~255.0.0.32',
    '199.22.216.173~255.254.27.0',
    '58.24.55.101~255.132.255.0',
    '68.128.113.136~255.0.0.0',
    '197.234.247.46~255.255.255.0',
    '79.22.71.93~255.255.0.0',
    '250.217.239.76~255.0.8.0',
    '153.96.7.235~255.255.0.0',
    '237.173.48.19~255.0.0.0',
    '140.48.84.23~255.255.255.0',
    '107.222.50.243~255.0.0.0',
    '189.224.126.176~255.255.255.0',
    '111.9.155.102~255.0.0.0',
    '117.4.142.205~255.255.255.255',
    '59.0.177.100~255.255.0.0',
    '60.70.81.248~255.255.255.255',
    '72.85.2.100~255.255.125.0',
    '74.15.130.23~255.0.0.0',
    '37.51.172.97~255.255.255.149',
    '51.58.149.175~255.0.0.0',
    '76.106.99.1~255.255.0.0',
    '198.102.96.87~255.255.0.0',
    '97.170.76.38~255.0.214.0',
    '42.115.213.173~255.255.0.0',
    '95.115.180.128~255.255.0.0',
    '192.240.88.125~255.0.0.47',
    '148.36.118.39~255.0.0.0',
    '237.211.17.109~255.255.255.255',
    '161.230.133.200~255.0.0.0',
    '163.139.243.139~255.0.0.0',
    '249.174.134.36~255.255.255.0',
    '148.64.179.63~255.0.0.0',
    '59.156.109.132~255.0.0.0',
    '42.50.113.7~255.0.0.0',
    '225.95.158.160~255.0.0.0',
    '133.17.112.129~255.0.152.0',
    '212.183.133.49~255.255.0.0',
    '183.12.213.169~255.255.255.255',
    '7.144.20.194~255.255.0.0',
    '106.46.24.252~255.255.255.255',
    '51.181.112.115~255.0.0.0',
    '47.243.149.186~255.255.255.0',
    '174.11.159.234~255.0.0.0',
    '8.83.231.207~255.0.0.0',
    '212.211.51.229~255.0.0.0',
    '6.13.59.212~255.255.119.0',
    '131.151.60.159~255.0.0.0',
    '47.21.57.12~255.0.0.0',
    '136.242.238.159~255.0.0.0',
    '249.200.157.157~255.255.255.0',
    '150.2.21.239~255.0.0.0',
    '26.100.58.90~255.226.0.0',
    '7.167.169.193~255.255.255.0',
    '48.49.16.45~255.132.0.0',
    '67.244.5.142~255.0.189.0',
    '239.170.232.59~255.0.0.0',
    '223.138.166.166~255.0.0.103',
    '199.65.124.179~255.255.0.0',
    '231.121.177.81~255.255.186.193',
    '30.247.220.230~255.255.255.0',
    '227.72.33.192~255.255.255.255',
    '126.189.96.104~255.255.167.255'
]
let strResult = '23 15 6 6 3 30 0'
let result = [0, 0, 0, 0, 0, 0, 0] // A、B、C、D、E、错误IP地址或错误掩码、私有IP的个数
let com2 = [
    /^10(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/,
    /^172\.(1[6-9]|2[0-9]|3[0-1])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){2}$/,
    /^192\.168(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){2}$/]
// 私网IP范围是：
// 10.0.0.0～10.255.255.255
// 172.16.0.0～172.31.255.255
// 192.168.0.0～192.168.255.255

let A = /^(1[0-1][0-9]|12[0-6]|[1-9][0-9]|[1-9])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // A类地址1.0.0.0~126.255.255.255;
let B = /^(12[8-9]|1[3-8][0-9]|19[0-1])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // B类地址128.0.0.0~191.255.255.255;
let C = /^(19[2-9]|2[0-1][0-9]|22[0-3])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // C类地址192.0.0.0~223.255.255.255;
let D = /^(22[4-9]|23[0-9])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // D类地址224.0.0.0~239.255.255.255；
let E = /^(24[0-9]|25[0-5])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // E类地址240.0.0.0~255.255.255.255
let F = /^(0|127)(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // 0.*.*.*.* 和127.*.*.*  不输入上述任何一类
let G = /^(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(\.(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])){3}$/ // 合法IP
let com1 = [A, B, C, D, E]
let rlen = ips.length
let i = 0
while (i < rlen) {
    let arr = ips[i++].split('~')
    if (arr[0].search(G) !== -1) { // 合法IP
        if(arr[0] === '0.0.0.0' || arr[0] === '255.255.255.255'){
            result[5] += 1
        } else if (arr[0].search(F) !== -1) {
            // 0.*.*.*.* 和127.*.*.* 啥也不干
        } else {
            if (isMask(arr[1]) === false) { // 错误掩码
                result[5] += 1
            }

            for (let i = 0; i < 3; i++) { //私有IP
                if (arr[0].search(com2[i]) !== -1) {
                    result[6] += 1
                    break
                }
            }

            for (let i = 0; i < 5; i++) {
                if (arr[0].search(com1[4]) !== -1) {
                    console.log(arr[0])
                    break
                }
                if (arr[0].search(com1[i]) !== -1) {
                    result[i] += 1
                    break
                }
            }
        }
    } else {
        result[5] += 1
    }
}

function isMask(str) {
    if(str === '255.255.255.255') return false
    let arr = str.split('.')
    let temp = 0
    for (let i = 3; i >= 0; i--) {
        temp = +arr[i]
        while (temp) {
            if (temp & 1 === 0) {
                temp >>= 1
            } else {
                break
            }
        }
        if ((temp & (temp + 1)) === 0) {
            continue
        } else {
            return false
        }
    }
    return true
}

console.log('23 15 6 6 3 30 0')
console.log(result)